(this["webpackJsonpdef-project"]=this["webpackJsonpdef-project"]||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},68:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(18),i=n.n(r),s=(n(49),n(3)),o=(n(50),n(37)),l=n.n(o),d=n(38),u=n(4),j=n.p+"static/media/gray-marker.92f9767f.png",b=n.p+"static/media/red-marker.5ba94e4a.png",m=n.p+"static/media/yellow-marker.ac5e6715.png",f=n.p+"static/media/green-marker.3fea8bad.png",O=(n(68),n(8)),h=n(20),p=n(19),v=Object(h.b)({name:"data",initialState:{data:[],searchKey:""},reducers:{dataSet:function(e,t){e.data=t.payload},searchKeySet:function(e,t){e.searchKey=t.payload}}}),x=Object(p.a)((function(e){return e.data.data}),(function(e){return e.data.searchKey}),(function(e,t){return t?e.filter((function(e){return e.addr.toLowerCase().includes(t.toLowerCase())})):e})),g=v.actions,N=g.dataSet,C=g.searchKeySet,k=v.reducer,w=n(1),y=window.kakao;var S=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(null),n=Object(s.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)([]),o=Object(s.a)(i,2),l=o[0],h=o[1],p=Object(O.c)(x);return Object(c.useEffect)((function(){var t={center:new y.maps.LatLng(35.85133,127.734086),level:13},n=new y.maps.Map(e.current,t),c=new y.maps.ZoomControl;n.addControl(c,y.maps.ControlPosition.RIGHT),r(n)}),[e]),Object(c.useEffect)((function(){if(null!==a)return p.forEach((function(e){var t,n=new y.maps.LatLng(e.lat,e.lng);switch(e.color.toLowerCase()){case"yellow":t=m;break;case"red":t=b;break;case"gray":t=j;break;default:t=f}var c=new y.maps.Marker({map:a,position:n,clickable:!0,image:new y.maps.MarkerImage(t,new y.maps.Size(35,35))}),r=new y.maps.CustomOverlay({clickable:!0,position:n,yAnchor:1}),i=function(e,t){var n=document.createElement("div");n.className="info";var c=document.createElement("div");c.className="head";var a=document.createElement("div");a.className="title",a.textContent=e.name;var r=document.createElement("button");r.className="closeBtn",r.innerHTML="&times;",r.onclick=function(){return t.setMap(null)};var i=document.createElement("div");i.className="body";var s=document.createElement("div");s.className="desc";var o=document.createElement("div");o.className="addr",o.textContent=e.addr;var l=document.createElement("div");l.className="inven",l.textContent="\uc7ac\uace0: "+e.inventory;var d=document.createElement("div");d.className="price",d.textContent="\uac00\uaca9: "+e.price;var u=document.createElement("div");u.className="tel",u.textContent="\uc5f0\ub77d\ucc98: "+e.tel;var j=document.createElement("div");return j.className="regDt",j.textContent="\uc218\uc815\uc77c\uc790: "+e.regDt,c.appendChild(a),c.appendChild(r),i.appendChild(s),s.appendChild(o),s.appendChild(l),s.appendChild(d),s.appendChild(u),s.appendChild(j),n.appendChild(c),n.appendChild(i),n}(e,r);r.setContent(i),h((function(e){return[].concat(Object(u.a)(e),[[c,r]])})),y.maps.event.addListener(c,"click",(function(){var e,t=Object(d.a)(l);try{for(t.s();!(e=t.n()).done;){e.value[1].setMap(null)}}catch(n){t.e(n)}finally{t.f()}r.setMap(a)}))})),function(){h((function(e){return e.forEach((function(e){return e[0].setMap(null)})),[]}))}}),[p,a]),Object(w.jsx)("div",{className:"MapContainer",ref:e})},E=n(7),M=n.n(E),P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)if("regDt"===t)e.sort((function(e,n){return e[t]>n[t]?1:e[t]<n[t]?-1:0}));else e.sort((function(e,n){return Number(e[t])>Number(n[t])?1:Number(e[t])<Number(n[t])?-1:0}));else if("regDt"===t)e.sort((function(e,n){return e[t]>n[t]?-1:e[t]<n[t]?1:0}));else e.sort((function(e,n){return Number(e[t])>Number(n[t])?-1:Number(e[t])<Number(n[t])?1:0}))},D=n(5),L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=(t-e)/n+1;return Array.from({length:c},(function(t,c){return e+c*n}))},z="...";n(75);var T=function(e){var t=e.dataCount,n=e.rowsPerPage,a=e.currentPage,r=e.siblingCount,i=void 0===r?2:r,s=e.onPageChange,o=e.className,l=function(e){var t=e.dataCount,n=e.rowsPerPage,a=e.currentPage,r=e.siblingCount,i=void 0===r?1:r;return Object(c.useMemo)((function(){var e=Math.ceil(t/n);if(i+5>=e)return L(1,e);var c=Math.max(a-i,1),r=Math.min(a+i,e),s=c>2,o=r<e-2,l=1,d=e;if(!s&&o){var j=L(1,3+2*i);return[].concat(Object(u.a)(j),[z,e])}if(s&&!o){var b=L(e-(3+2*i)+1,e);return[l,z].concat(Object(u.a)(b))}var m=L(c,r);return[l,z].concat(Object(u.a)(m),[z,d])}),[t,n,i,a])}({currentPage:a,dataCount:t,siblingCount:i,rowsPerPage:n});if(0===a||l.length<2)return null;var d=l[l.length-1];return Object(w.jsxs)("ul",{className:M()("pagination-container",Object(D.a)({},o,o)),children:[Object(w.jsxs)("li",{className:M()("pagination-item",{disabled:1===a}),onClick:function(){s(a<=10?1:a-10)},children:[Object(w.jsx)("div",{className:"arrow left"}),Object(w.jsx)("div",{className:"arrow left"})]}),Object(w.jsx)("li",{className:M()("pagination-item",{disabled:1===a}),onClick:function(){s(a-1)},children:Object(w.jsx)("div",{className:"arrow left"})}),l.map((function(e){return e===z?Object(w.jsx)("li",{className:"pagination-item dots",children:"\u2026"}):"number"===typeof e?Object(w.jsx)("li",{className:M()("pagination-item",{selected:e===a}),onClick:function(){return s(e)},children:e}):void 0})),Object(w.jsx)("li",{className:M()("pagination-item",{disabled:a===d}),onClick:function(){s(a+1)},children:Object(w.jsx)("div",{className:"arrow right"})}),Object(w.jsxs)("li",{className:M()("pagination-item",{disabled:a===d}),onClick:function(){a>=Math.ceil(t/n)-10?s(Math.ceil(t/n)):s(a+10)},children:[Object(w.jsx)("div",{className:"arrow right"}),Object(w.jsx)("div",{className:"arrow right"})]})]})},J=n(21),H=n.n(J),K=n(22),B=n.n(K),F=(n(76),n(40)),A=n.n(F);var G=function(){var e=Object(O.c)(x),t=Object(c.useState)(Object(u.a)(e)),n=Object(s.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(1),o=Object(s.a)(i,2),l=o[0],d=o[1],j=Object(c.useState)(""),b=Object(s.a)(j,2),m=b[0],f=b[1],h=Object(c.useState)(!1),p=Object(s.a)(h,2),v=p[0],g=p[1],N=Object(c.useMemo)((function(){var e=10*(l-1),t=e+10;return a.slice(e,t)}),[l,a]);return Object(c.useEffect)((function(){r(Object(u.a)(e)),d(1),g(!1),f("")}),[e]),Object(c.useEffect)((function(){g(!1)}),[m]),Object(c.useEffect)((function(){if(d(1),m){var e=Object(u.a)(a);P(e,m,v),r(e)}}),[m,v]),Object(w.jsxs)("div",{className:"data-table",children:[Object(w.jsx)("span",{children:"\uc694\uc18c\uc218 \uc7ac\uace0 \uc815\ubcf4"}),Object(w.jsx)("div",{className:"table-container",children:Object(w.jsx)(A.a,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,children:Object(w.jsxs)("table",{children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{className:"name",children:"\uc774\ub984"}),Object(w.jsx)("th",{className:"addr",children:"\uc8fc\uc18c"}),Object(w.jsx)("th",{className:"time",children:"\uc6b4\uc601\uc2dc\uac04"}),Object(w.jsx)("th",{className:M()("cc",{selected:"inventory"===m,reversed:"inventory"===m&&v}),onClick:function(){f("inventory"),g((function(e){return!e}))},children:Object(w.jsxs)("div",{children:["\uc7ac\uace0\ub7c9(L)","inventory"===m&&v?Object(w.jsx)(H.a,{fontSize:"small"}):"inventory"===m&&Object(w.jsx)(B.a,{fontSize:"small"})]})}),Object(w.jsx)("th",{className:M()("cc",{selected:"price"===m,reversed:"price"===m&&v}),onClick:function(){f("price"),g((function(e){return!e}))},children:Object(w.jsxs)("div",{children:["\uac00\uaca9","price"===m&&v?Object(w.jsx)(H.a,{fontSize:"small"}):"price"===m&&Object(w.jsx)(B.a,{fontSize:"small"})]})}),Object(w.jsx)("th",{className:"tel",children:"\uc804\ud654\ubc88\ud638"}),Object(w.jsx)("th",{className:M()("cc",{selected:"regDt"===m,reversed:"regDt"===m&&v}),onClick:function(){f("regDt"),g((function(e){return!e}))},children:Object(w.jsxs)("div",{children:["\uc218\uc815\uc77c\uc790","regDt"===m&&v?Object(w.jsx)(H.a,{fontSize:"small"}):"regDt"===m&&Object(w.jsx)(B.a,{fontSize:"small"})]})})]})}),Object(w.jsx)("tbody",{children:N.map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:e.name||"\uc815\ubcf4\uc5c6\uc74c"}),Object(w.jsx)("td",{children:e.addr||"\uc815\ubcf4\uc5c6\uc74c"}),Object(w.jsx)("td",{children:e.openTime||"\uc815\ubcf4\uc5c6\uc74c"}),Object(w.jsx)("td",{children:e.inventory||"\uc815\ubcf4\uc5c6\uc74c"}),Object(w.jsx)("td",{children:"undefined"===e.price||"0"===e.price?"\uc815\ubcf4\uc5c6\uc74c":e.price?e.price:"\uc815\ubcf4\uc5c6\uc74c"}),Object(w.jsx)("td",{children:e.tel||"\uc815\ubcf4\uc5c6\uc74c"}),Object(w.jsx)("td",{children:e.regDt||"\uc815\ubcf4\uc5c6\uc74c"})]},e.code)}))})]})})}),Object(w.jsx)(T,{className:"pagination-bar",dataCount:a.length,rowsPerPage:10,currentPage:l,onPageChange:d})]})},I=n(42),R=n.n(I),Z=(n(94),function(){return Object(O.b)()}),q=n(41),Q=n.n(q);var U=function(){var e=Z(),t=Object(c.useState)(""),n=Object(s.a)(t,2),a=n[0],r=n[1],i=Object(c.useCallback)((function(){a?a.trim().length<2&&alert("\ucd5c\uc18c 2\uae00\uc790 \uc774\uc0c1 \ud544\uc694\ud569\ub2c8\ub2e4."):alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")}),[a]),o=Object(c.useCallback)((function(t){t.preventDefault(),i(),a.trim().length>=2&&(e(C(a)),r(""))}),[a,r,i,e]),l=Object(c.useCallback)((function(e){r(e.target.value)}),[r]);return Object(w.jsxs)("div",{className:"header",children:[Object(w.jsxs)("div",{className:"nav-left",children:[Object(w.jsx)("div",{className:"logo",onClick:function(){return window.location.reload()},children:Object(w.jsx)("span",{children:"\uc694\uc18c\uc218 \uc815\ubcf4 \uc11c\ube44\uc2a4"})}),Object(w.jsx)("div",{className:"source",onClick:function(){return window.open("https://github.com/kyk1211/def-map","_blank")},children:Object(w.jsx)(Q.a,{fontSize:"large"})})]}),Object(w.jsxs)("div",{className:"search-container",children:[Object(w.jsxs)("form",{onSubmit:o,children:[Object(w.jsx)("input",{onChange:l,value:a,placeholder:"\uc8fc\uc18c \uac80\uc0c9"}),Object(w.jsx)("button",{type:"submit",children:Object(w.jsx)(R.a,{})})]}),Object(w.jsx)("button",{onClick:function(){e(C("")),r("")},children:"\ucd08\uae30\ud654"})]})]})},V=n(43),_=n.n(V);var W=function(){var e=Z(),t=Object(c.useState)(!1),n=Object(s.a)(t,2),a=n[0],r=n[1],i="https://api.odcloud.kr/api/uws/v1/inventory"+"?page=".concat(0,"&perPage=").concat(1e5,"&returnType=JSON&serviceKey=").concat("L%2Bx%2FuV2N4A5xeGN%2FJxtJ3idEtmvq7HMZeioTgu2kROPGZeUz0oSiz5zQiqUj94Oco4%2FcC%2BJNatV8hJf5mL%2BSuQ%3D%3D");return Object(c.useEffect)((function(){r(!0),l.a.get(i).then((function(t){e(N(t.data.data))})).catch((function(e){console.log(e)}))}),[i,e]),Object(c.useEffect)((function(){var e=setTimeout((function(){r(!1)}),1e3);return function(){return clearTimeout(e)}}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(U,{}),Object(w.jsx)("div",{className:"content",children:a?Object(w.jsx)("div",{className:"loading",children:Object(w.jsx)(_.a,{type:"spin",color:"blue"})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S,{}),Object(w.jsx)(G,{})]})})]})},X=Object(h.a)({reducer:{data:k}});i.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(O.a,{store:X,children:Object(w.jsx)(W,{})})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.4a78eaa5.chunk.js.map