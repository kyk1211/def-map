(this["webpackJsonpdef-project"]=this["webpackJsonpdef-project"]||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},68:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(20),i=n.n(r),s=(n(49),n(4)),o=(n(50),n(38)),l=n.n(o),d=n(12),u=n(3),j=n.p+"static/media/gray-marker.92f9767f.png",b=n.p+"static/media/red-marker.5ba94e4a.png",m=n.p+"static/media/yellow-marker.ac5e6715.png",f=n.p+"static/media/green-marker.3fea8bad.png",O=(n(68),n(8)),h=n(10),p=n(21),v=Object(h.b)({name:"data",initialState:{data:[],searchKey:""},reducers:{dataSet:function(e,t){e.data=t.payload},searchKeySet:function(e,t){e.searchKey=t.payload}}}),x=Object(p.a)((function(e){return e.data.data}),(function(e){return e.data.searchKey}),(function(e,t){return t?e.filter((function(e){return e.addr.toLowerCase().includes(t.toLowerCase())})):e})),g=v.actions,N=g.dataSet,C=g.searchKeySet,k=v.reducer,y=function(){return Object(O.b)()},w=Object(h.b)({name:"map",initialState:{map:null,markers:[]},reducers:{setMap:function(e,t){e.map=t.payload},addMarker:function(e,t){e.markers.push(t.payload)}}}),S=w.actions,M=S.setMap,E=S.addMarker,P=w.reducer,D=n(1),z=window.kakao;var L=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(null),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),o=Object(s.a)(i,2),l=(o[0],o[1]),h=Object(O.c)(x),p=y();return Object(a.useEffect)((function(){var t={center:new z.maps.LatLng(35.85133,127.734086),level:13},n=new z.maps.Map(e.current,t),a=new z.maps.ZoomControl;n.addControl(a,z.maps.ControlPosition.RIGHT),r(n),p(M(n))}),[e]),Object(a.useEffect)((function(){if(null!==c)return h.forEach((function(e){var t=new z.maps.LatLng(e.lat,e.lng),n=function(e){switch(e){case"yellow":return m;case"red":return b;case"gray":return j;default:return f}}(e.color.toLowerCase()),a=new z.maps.Marker({map:c,position:t,clickable:!0,image:new z.maps.MarkerImage(n,new z.maps.Size(35,35))}),r=new z.maps.CustomOverlay({clickable:!0,position:t,yAnchor:1}),i=function(e,t){var n=document.createElement("div");n.className="info";var a=document.createElement("div");a.className="head";var c=document.createElement("div");c.className="title",c.textContent=e.name;var r=document.createElement("button");r.className="closeBtn",r.innerHTML="&times;",r.onclick=function(){return t.setMap(null)};var i=document.createElement("div");i.className="body";var s=document.createElement("div");s.className="desc";var o=document.createElement("div");o.className="addr",o.textContent=e.addr;var l=document.createElement("div");l.className="inven",l.textContent="\uc7ac\uace0: "+e.inventory;var d=document.createElement("div");d.className="price",d.textContent="\uac00\uaca9: "+e.price;var u=document.createElement("div");u.className="tel",u.textContent="\uc5f0\ub77d\ucc98: "+e.tel;var j=document.createElement("div");return j.className="regDt",j.textContent="\uc218\uc815\uc77c\uc790: "+e.regDt,a.appendChild(c),a.appendChild(r),i.appendChild(s),s.appendChild(o),s.appendChild(l),s.appendChild(d),s.appendChild(u),s.appendChild(j),n.appendChild(a),n.appendChild(i),n}(e,r);r.setContent(i),l((function(e){return[].concat(Object(u.a)(e),[[a,r]])})),p(E([a,r,{code:e.code,pos:t}])),z.maps.event.addListener(a,"click",(function(){l((function(e){var t,n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){t.value[1].setMap(null)}}catch(a){n.e(a)}finally{n.f()}return Object(u.a)(e)})),r.setMap(c)}))})),function(){l((function(e){var t,n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){t.value[0].setMap(null)}}catch(a){n.e(a)}finally{n.f()}return[]}))}}),[h,c]),Object(D.jsx)("div",{className:"MapContainer",ref:e})},J=n(7),H=n.n(J),K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)if("regDt"===t)e.sort((function(e,n){return e[t]>n[t]?1:e[t]<n[t]?-1:0}));else e.sort((function(e,n){return Number(e[t])>Number(n[t])?1:Number(e[t])<Number(n[t])?-1:0}));else if("regDt"===t)e.sort((function(e,n){return e[t]>n[t]?-1:e[t]<n[t]?1:0}));else e.sort((function(e,n){return Number(e[t])>Number(n[t])?-1:Number(e[t])<Number(n[t])?1:0}))},T=n(5),B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=(t-e)/n+1;return Array.from({length:a},(function(t,a){return e+a*n}))},F="...";n(75);var A=function(e){var t=e.dataCount,n=e.rowsPerPage,c=e.currentPage,r=e.siblingCount,i=void 0===r?2:r,s=e.onPageChange,o=e.className,l=function(e){var t=e.dataCount,n=e.rowsPerPage,c=e.currentPage,r=e.siblingCount,i=void 0===r?1:r;return Object(a.useMemo)((function(){var e=Math.ceil(t/n);if(i+5>=e)return B(1,e);var a=Math.max(c-i,1),r=Math.min(c+i,e),s=a>2,o=r<e-2,l=1,d=e;if(!s&&o){var j=B(1,3+2*i);return[].concat(Object(u.a)(j),[F,e])}if(s&&!o){var b=B(e-(3+2*i)+1,e);return[l,F].concat(Object(u.a)(b))}var m=B(a,r);return[l,F].concat(Object(u.a)(m),[F,d])}),[t,n,i,c])}({currentPage:c,dataCount:t,siblingCount:i,rowsPerPage:n});if(0===c||l.length<2)return null;var d=l[l.length-1];return Object(D.jsxs)("ul",{className:H()("pagination-container",Object(T.a)({},o,o)),children:[Object(D.jsxs)("li",{className:H()("pagination-item",{disabled:1===c}),onClick:function(){s(c<=10?1:c-10)},children:[Object(D.jsx)("div",{className:"arrow left"}),Object(D.jsx)("div",{className:"arrow left"})]}),Object(D.jsx)("li",{className:H()("pagination-item",{disabled:1===c}),onClick:function(){s(c-1)},children:Object(D.jsx)("div",{className:"arrow left"})}),l.map((function(e,t){return e===F?Object(D.jsx)("li",{className:"pagination-item dots",children:"\u2026"},t):Object(D.jsx)("li",{className:H()("pagination-item",{selected:e===c}),onClick:function(){return s(e)},children:e},t)})),Object(D.jsx)("li",{className:H()("pagination-item",{disabled:c===d}),onClick:function(){s(c+1)},children:Object(D.jsx)("div",{className:"arrow right"})}),Object(D.jsxs)("li",{className:H()("pagination-item",{disabled:c===d}),onClick:function(){c>=Math.ceil(t/n)-10?s(Math.ceil(t/n)):s(c+10)},children:[Object(D.jsx)("div",{className:"arrow right"}),Object(D.jsx)("div",{className:"arrow right"})]})]})},G=n(22),I=n.n(G),R=n(23),Z=n.n(R),q=(n(76),n(40)),Q=n.n(q);var U=function(){var e=Object(O.c)((function(e){return e.map.map})),t=Object(O.c)((function(e){return e.map.markers})),n=Object(O.c)(x),c=Object(a.useState)(Object(u.a)(n)),r=Object(s.a)(c,2),i=r[0],o=r[1],l=Object(a.useState)(1),j=Object(s.a)(l,2),b=j[0],m=j[1],f=Object(a.useState)(""),h=Object(s.a)(f,2),p=h[0],v=h[1],g=Object(a.useState)(!1),N=Object(s.a)(g,2),C=N[0],k=N[1],y=Object(a.useMemo)((function(){var e=10*(b-1),t=e+10;return i.slice(e,t)}),[b,i]);return Object(a.useEffect)((function(){o(Object(u.a)(n)),m(1),k(!1),v("")}),[n]),Object(a.useEffect)((function(){k(!1)}),[p]),Object(a.useEffect)((function(){if(m(1),p){var e=Object(u.a)(i);K(e,p,C),o(e)}}),[p,C]),Object(D.jsxs)("div",{className:"data-table",children:[Object(D.jsx)("span",{children:"\uc694\uc18c\uc218 \uc7ac\uace0 \uc815\ubcf4"}),Object(D.jsx)("div",{className:"table-container",children:Object(D.jsx)(Q.a,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,children:Object(D.jsxs)("table",{children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{className:"name",children:"\uc774\ub984"}),Object(D.jsx)("th",{className:"addr",children:"\uc8fc\uc18c"}),Object(D.jsx)("th",{className:"time",children:"\uc6b4\uc601\uc2dc\uac04"}),Object(D.jsx)("th",{className:H()("cc",{selected:"inventory"===p,reversed:"inventory"===p&&C}),onClick:function(){v("inventory"),k((function(e){return!e}))},children:Object(D.jsxs)("div",{children:["\uc7ac\uace0\ub7c9(L)","inventory"===p&&C?Object(D.jsx)(I.a,{fontSize:"small"}):"inventory"===p&&Object(D.jsx)(Z.a,{fontSize:"small"})]})}),Object(D.jsx)("th",{className:H()("cc",{selected:"price"===p,reversed:"price"===p&&C}),onClick:function(){v("price"),k((function(e){return!e}))},children:Object(D.jsxs)("div",{children:["\uac00\uaca9","price"===p&&C?Object(D.jsx)(I.a,{fontSize:"small"}):"price"===p&&Object(D.jsx)(Z.a,{fontSize:"small"})]})}),Object(D.jsx)("th",{className:"tel",children:"\uc804\ud654\ubc88\ud638"}),Object(D.jsx)("th",{className:H()("cc",{selected:"regDt"===p,reversed:"regDt"===p&&C}),onClick:function(){v("regDt"),k((function(e){return!e}))},children:Object(D.jsxs)("div",{children:["\uc218\uc815\uc77c\uc790","regDt"===p&&C?Object(D.jsx)(I.a,{fontSize:"small"}):"regDt"===p&&Object(D.jsx)(Z.a,{fontSize:"small"})]})})]})}),Object(D.jsx)("tbody",{children:y.map((function(n){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{onClick:function(a){a.stopPropagation();var c,r=Object(d.a)(t);try{for(r.s();!(c=r.n()).done;){var i=c.value;i[1].setMap(null),i[2].code===n.code&&(i[1].setMap(e),e.setCenter(i[1].getPosition()))}}catch(s){r.e(s)}finally{r.f()}},children:n.name||"\uc815\ubcf4\uc5c6\uc74c"}),Object(D.jsx)("td",{children:n.addr||"\uc815\ubcf4\uc5c6\uc74c"}),Object(D.jsx)("td",{children:n.openTime||"\uc815\ubcf4\uc5c6\uc74c"}),Object(D.jsx)("td",{children:n.inventory||"\uc815\ubcf4\uc5c6\uc74c"}),Object(D.jsx)("td",{children:"undefined"===n.price||"0"===n.price?"\uc815\ubcf4\uc5c6\uc74c":n.price?n.price:"\uc815\ubcf4\uc5c6\uc74c"}),Object(D.jsx)("td",{children:n.tel||"\uc815\ubcf4\uc5c6\uc74c"}),Object(D.jsx)("td",{children:n.regDt||"\uc815\ubcf4\uc5c6\uc74c"})]},n.code)}))})]})})}),Object(D.jsx)(A,{className:"pagination-bar",dataCount:i.length,rowsPerPage:10,currentPage:b,onPageChange:m})]})},V=(n(94),n(42)),_=n.n(V),W=n(41),X=n.n(W);function Y(){var e=y(),t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useCallback)((function(){c?c.trim().length<2&&alert("\ucd5c\uc18c 2\uae00\uc790 \uc774\uc0c1 \ud544\uc694\ud569\ub2c8\ub2e4."):alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")}),[c]),o=Object(a.useCallback)((function(t){t.preventDefault(),i(),c.trim().length>=2&&(e(C(c)),r(""))}),[c,r,i,e]),l=Object(a.useCallback)((function(e){r(e.target.value)}),[r]);return Object(D.jsxs)("div",{className:"search-container",children:[Object(D.jsxs)("form",{onSubmit:o,children:[Object(D.jsx)("input",{onChange:l,value:c,placeholder:"\uc8fc\uc18c \uac80\uc0c9"}),Object(D.jsx)("button",{type:"submit",children:Object(D.jsx)(X.a,{})})]}),Object(D.jsx)("button",{onClick:function(){e(C("")),r("")},children:"\ucd08\uae30\ud654"})]})}var $=function(){return Object(D.jsxs)("div",{className:"header",children:[Object(D.jsxs)("div",{className:"nav-left",children:[Object(D.jsx)("div",{className:"logo",onClick:function(){return window.location.reload()},children:Object(D.jsx)("span",{children:"\uc694\uc18c\uc218 \uc815\ubcf4 \uc11c\ube44\uc2a4"})}),Object(D.jsx)("div",{className:"source",onClick:function(){return window.open("https://github.com/kyk1211/def-map","_blank")},children:Object(D.jsx)(_.a,{fontSize:"large"})})]}),Object(D.jsx)(Y,{})]})},ee=n(43),te=n.n(ee);var ne=function(){var e=y(),t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1],i="https://api.odcloud.kr/api/uws/v1/inventory"+"?page=".concat(0,"&perPage=").concat(1e5,"&returnType=JSON&serviceKey=").concat("L%2Bx%2FuV2N4A5xeGN%2FJxtJ3idEtmvq7HMZeioTgu2kROPGZeUz0oSiz5zQiqUj94Oco4%2FcC%2BJNatV8hJf5mL%2BSuQ%3D%3D");return Object(a.useEffect)((function(){r(!0),l.a.get(i).then((function(t){e(N(t.data.data)),r(!1)})).catch((function(e){console.log(e)}))}),[i,e]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)($,{}),Object(D.jsx)("div",{className:"content",children:c?Object(D.jsx)("div",{className:"loading",children:Object(D.jsx)(te.a,{type:"spin",color:"blue"})}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(L,{}),Object(D.jsx)(U,{})]})})]})},ae=Object(h.a)({reducer:{data:k,map:P},middleware:function(e){return e({serializableCheck:!1})}});i.a.render(Object(D.jsx)(c.a.StrictMode,{children:Object(D.jsx)(O.a,{store:ae,children:Object(D.jsx)(ne,{})})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.30a28f4f.chunk.js.map