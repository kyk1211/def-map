(this["webpackJsonpdef-project"]=this["webpackJsonpdef-project"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},65:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),i=n.n(r),s=(n(45),n(5)),l=(n(46),n(35)),o=n.n(l),d=n(36),j=n.p+"static/media/gray-marker.92f9767f.png",u=n.p+"static/media/red-marker.5ba94e4a.png",b=n.p+"static/media/yellow-marker.ac5e6715.png",m=n.p+"static/media/green-marker.3fea8bad.png",O=(n(65),n(8)),f=n(17),h=n(16),p=Object(f.b)({name:"data",initialState:{data:[],searchKey:""},reducers:{dataSet:function(e,t){e.data=t.payload},searchKeySet:function(e,t){e.searchKey=t.payload}}}),v=Object(h.a)((function(e){return e.data.data}),(function(e){return e.data.searchKey}),(function(e,t){return t?e.filter((function(e){return e.addr.includes(t)})):e})),x=p.actions,g=x.dataSet,N=x.searchKeySet,C=p.reducer,k=n(1),y=window.kakao;var w=function(){var e=Object(a.useRef)(null),t=[],n=Object(O.c)(v);return Object(a.useEffect)((function(){var a={center:new y.maps.LatLng(35.85133,127.734086),level:13},c=new y.maps.Map(e.current,a),r=new y.maps.ZoomControl;c.addControl(r,y.maps.ControlPosition.RIGHT),n.forEach((function(e){var n,a=new y.maps.LatLng(e.lat,e.lng);switch(e.color.toLowerCase()){case"yellow":n=b;break;case"red":n=u;break;case"gray":n=j;break;default:n=m}var r=new y.maps.Marker({map:c,position:a,clickable:!0,image:new y.maps.MarkerImage(n,new y.maps.Size(35,35))}),i=new y.maps.CustomOverlay({clickable:!0,position:a,yAnchor:1.25});var s=function(e){var t=document.createElement("div");t.className="info";var n=document.createElement("div");n.className="head";var a=document.createElement("div");a.className="title",a.textContent=e.name;var c=document.createElement("button");c.className="closeBtn",c.innerHTML="&times;",c.onclick=function(){return i.setMap(null)};var r=document.createElement("div");r.className="body";var s=document.createElement("div");s.className="desc";var l=document.createElement("div");l.className="addr",l.textContent=e.addr;var o=document.createElement("div");o.className="inven",o.textContent="\uc7ac\uace0: "+e.inventory;var d=document.createElement("div");d.className="price",d.textContent="\uac00\uaca9: "+e.price;var j=document.createElement("div");j.className="tel",j.textContent="\uc5f0\ub77d\ucc98: "+e.tel;var u=document.createElement("div");return u.className="regDt",u.textContent="\uc218\uc815\uc77c\uc790: "+e.regDt,n.appendChild(a),n.appendChild(c),r.appendChild(s),s.appendChild(l),s.appendChild(o),s.appendChild(d),s.appendChild(j),s.appendChild(u),t.appendChild(n),t.appendChild(r),t}(e);i.setContent(s),t.push([r,i]),y.maps.event.addListener(r,"click",(function(){var e,n=Object(d.a)(t);try{for(n.s();!(e=n.n()).done;){e.value[1].setMap(null)}}catch(a){n.e(a)}finally{n.f()}i.setMap(c)}))}))}),[n]),Object(k.jsx)("div",{className:"MapContainer",ref:e})},S=n(4),E=n(7),M=n.n(E),P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)if("regDt"===t)e.sort((function(e,n){return e[t]>n[t]?1:e[t]<n[t]?-1:0}));else e.sort((function(e,n){return Number(e[t])>Number(n[t])?1:Number(e[t])<Number(n[t])?-1:0}));else if("regDt"===t)e.sort((function(e,n){return e[t]>n[t]?-1:e[t]<n[t]?1:0}));else e.sort((function(e,n){return Number(e[t])>Number(n[t])?-1:Number(e[t])<Number(n[t])?1:0}))},D=n(3),z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=(t-e)/n+1;return Array.from({length:a},(function(t,a){return e+a*n}))},L="...";n(72);var J=function(e){var t=e.dataCount,n=e.rowsPerPage,c=e.currentPage,r=e.siblingCount,i=void 0===r?2:r,s=e.onPageChange,l=e.className,o=function(e){var t=e.dataCount,n=e.rowsPerPage,c=e.currentPage,r=e.siblingCount,i=void 0===r?1:r;return Object(a.useMemo)((function(){var e=Math.ceil(t/n);if(i+5>=e)return z(1,e);var a=Math.max(c-i,1),r=Math.min(c+i,e),s=a>2,l=r<e-2,o=1,d=e;if(!s&&l){var j=z(1,3+2*i);return[].concat(Object(S.a)(j),[L,e])}if(s&&!l){var u=z(e-(3+2*i)+1,e);return[o,L].concat(Object(S.a)(u))}var b=z(a,r);return[o,L].concat(Object(S.a)(b),[L,d])}),[t,n,i,c])}({currentPage:c,dataCount:t,siblingCount:i,rowsPerPage:n});if(0===c||o.length<2)return null;var d=o[o.length-1];return Object(k.jsxs)("ul",{className:M()("pagination-container",Object(D.a)({},l,l)),children:[Object(k.jsxs)("li",{className:M()("pagination-item",{disabled:1===c}),onClick:function(){s(c<=10?1:c-10)},children:[Object(k.jsx)("div",{className:"arrow left"}),Object(k.jsx)("div",{className:"arrow left"})]}),Object(k.jsx)("li",{className:M()("pagination-item",{disabled:1===c}),onClick:function(){s(c-1)},children:Object(k.jsx)("div",{className:"arrow left"})}),o.map((function(e){return e===L?Object(k.jsx)("li",{className:"pagination-item dots",children:"\u2026"}):"number"===typeof e?Object(k.jsx)("li",{className:M()("pagination-item",{selected:e===c}),onClick:function(){return s(e)},children:e}):void 0})),Object(k.jsx)("li",{className:M()("pagination-item",{disabled:c===d}),onClick:function(){s(c+1)},children:Object(k.jsx)("div",{className:"arrow right"})}),Object(k.jsxs)("li",{className:M()("pagination-item",{disabled:c===d}),onClick:function(){c>=Math.ceil(t/n)-10?s(Math.ceil(t/n)):s(c+10)},children:[Object(k.jsx)("div",{className:"arrow right"}),Object(k.jsx)("div",{className:"arrow right"})]})]})},K=n(18),B=n.n(K),F=n(19),T=n.n(F);n(73);var A=function(){var e=Object(O.c)(v),t=Object(a.useState)(Object(S.a)(e)),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(1),l=Object(s.a)(i,2),o=l[0],d=l[1],j=Object(a.useState)(""),u=Object(s.a)(j,2),b=u[0],m=u[1],f=Object(a.useState)(!1),h=Object(s.a)(f,2),p=h[0],x=h[1],g=Object(a.useMemo)((function(){var e=10*(o-1),t=e+10;return c.slice(e,t)}),[o,c]);return Object(a.useEffect)((function(){r(Object(S.a)(e)),d(1),x(!1),m("")}),[e]),Object(a.useEffect)((function(){x(!1)}),[b]),Object(a.useEffect)((function(){if(d(1),b){var e=Object(S.a)(c);P(e,b,p),r(e)}}),[b,p]),Object(k.jsxs)("div",{className:"data-table",children:[Object(k.jsx)("span",{children:"\uc694\uc18c\uc218 \uc7ac\uace0 \uc815\ubcf4"}),Object(k.jsx)("div",{className:"table-container",children:Object(k.jsxs)("table",{children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"name",children:"\uc774\ub984"}),Object(k.jsx)("th",{className:"addr",children:"\uc8fc\uc18c"}),Object(k.jsx)("th",{className:"time",children:"\uc6b4\uc601\uc2dc\uac04"}),Object(k.jsx)("th",{className:M()("cc",{selected:"inventory"===b,reversed:"inventory"===b&&p}),onClick:function(){m("inventory"),x((function(e){return!e}))},children:Object(k.jsxs)("div",{children:["\uc7ac\uace0\ub7c9(L)","inventory"===b&&p?Object(k.jsx)(B.a,{fontSize:"small"}):"inventory"===b&&Object(k.jsx)(T.a,{fontSize:"small"})]})}),Object(k.jsx)("th",{className:M()("cc",{selected:"price"===b,reversed:"price"===b&&p}),onClick:function(){m("price"),x((function(e){return!e}))},children:Object(k.jsxs)("div",{children:["\uac00\uaca9","price"===b&&p?Object(k.jsx)(B.a,{fontSize:"small"}):"price"===b&&Object(k.jsx)(T.a,{fontSize:"small"})]})}),Object(k.jsx)("th",{className:"tel",children:"\uc804\ud654\ubc88\ud638"}),Object(k.jsx)("th",{className:M()("cc",{selected:"regDt"===b,reversed:"regDt"===b&&p}),onClick:function(){m("regDt"),x((function(e){return!e}))},children:Object(k.jsxs)("div",{children:["\uc218\uc815\uc77c\uc790","regDt"===b&&p?Object(k.jsx)(B.a,{fontSize:"small"}):"regDt"===b&&Object(k.jsx)(T.a,{fontSize:"small"})]})})]})}),Object(k.jsx)("tbody",{children:g.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:e.name||"\uc815\ubcf4\uc5c6\uc74c"}),Object(k.jsx)("td",{children:e.addr||"\uc815\ubcf4\uc5c6\uc74c"}),Object(k.jsx)("td",{children:e.openTime||"\uc815\ubcf4\uc5c6\uc74c"}),Object(k.jsx)("td",{children:e.inventory||"\uc815\ubcf4\uc5c6\uc74c"}),Object(k.jsx)("td",{children:"undefined"===e.price?"\uc815\ubcf4\uc5c6\uc74c":e.price||"\uc815\ubcf4\uc5c6\uc74c"}),Object(k.jsx)("td",{children:e.tel||"\uc815\ubcf4\uc5c6\uc74c"}),Object(k.jsx)("td",{children:e.regDt||"\uc815\ubcf4\uc5c6\uc74c"})]},e.code)}))})]})}),Object(k.jsx)(J,{className:"pagination-bar",dataCount:c.length,rowsPerPage:10,currentPage:o,onPageChange:d})]})},G=n(38),H=n.n(G),I=(n(75),function(){return Object(O.b)()});var R=function(){var e=I(),t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useCallback)((function(){c?c.trim().length<2&&alert("\ucd5c\uc18c 2\uae00\uc790 \uc774\uc0c1 \ud544\uc694\ud569\ub2c8\ub2e4."):alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")}),[c]),l=Object(a.useCallback)((function(t){t.preventDefault(),i(),c.trim().length>=2&&(e(N(c)),r(""))}),[c,r,i]),o=Object(a.useCallback)((function(e){r(e.target.value)}),[r]);return Object(k.jsxs)("div",{className:"header",children:[Object(k.jsx)("div",{className:"logo",onClick:function(){return window.location.reload()},children:Object(k.jsx)("span",{children:"\uc694\uc18c\uc218 \uc815\ubcf4 \uc11c\ube44\uc2a4"})}),Object(k.jsxs)("div",{className:"search-container",children:[Object(k.jsxs)("form",{onSubmit:l,children:[Object(k.jsx)("span",{children:"\uc8fc\uc18c \uac80\uc0c9"}),Object(k.jsx)("input",{onChange:o,value:c,placeholder:"\uac80\uc0c9"}),Object(k.jsx)("button",{type:"submit",children:Object(k.jsx)(H.a,{})})]}),Object(k.jsx)("button",{onClick:function(){e(N("")),r("")},children:"\ucd08\uae30\ud654"})]})]})},Z=n(39),q=n.n(Z);var Q=function(){var e=I(),t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1],i="https://api.odcloud.kr/api/uws/v1/inventory"+"?page=".concat(0,"&perPage=").concat(1e5,"&returnType=JSON&serviceKey=").concat("L%2Bx%2FuV2N4A5xeGN%2FJxtJ3idEtmvq7HMZeioTgu2kROPGZeUz0oSiz5zQiqUj94Oco4%2FcC%2BJNatV8hJf5mL%2BSuQ%3D%3D");return Object(a.useEffect)((function(){r(!0),o.a.get(i).then((function(t){e(g(t.data.data)),r(!1)})).catch((function(e){console.log(e),r(!1)}))}),[i]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(R,{}),Object(k.jsx)("div",{className:"content",children:c?Object(k.jsx)("div",{className:"loading",children:Object(k.jsx)(q.a,{type:"spin",color:"blue"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(w,{}),Object(k.jsx)(A,{})]})})]})},U=Object(f.a)({reducer:{data:C}});i.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(O.a,{store:U,children:Object(k.jsx)(Q,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.f7208a96.chunk.js.map